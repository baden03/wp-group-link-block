(()=>{"use strict";const e=window.wp.blocks,n=window.wp.i18n,o=window.wp.blockEditor,t=window.wp.components,r=window.wp.primitives,i=window.ReactJSXRuntime;var l=(0,i.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(r.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),a=(0,i.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(r.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})});const s=window.wp.element,p=window.wp.coreData,u=window.wp.keycodes,c=JSON.parse('{"apiVersion":3,"name":"twinpictures/group-link","title":"Group Link","category":"design","supports":{"html":true,"align":true,"spacing":{"margin":true,"padding":true},"interactivity":{"clientNavigation":true}},"usesContext":["postId","postType","queryId"],"attributes":{"url":{"type":"string"},"title":{"type":"string"},"linkTarget":{"type":"string"},"ariaLabel":{"type":"string"},"rel":{"type":"string"},"queryLoopLink":{"type":"boolean","default":false},"blockId":{"type":"string"}},"textdomain":"group-link","editorScript":"file:./build/index.js","editorStyle":"file:./build/style-index.css","style":"file:./build/style-index.css"}');function k({isSelected:e,url:r,setAttributes:p,opensInNewTab:c,onToggleOpenInNewTab:k,anchorRef:d,queryLoopLink:g,onToggleQueryLoopLink:h}){const[w,b]=(0,s.useState)(!1),_=g?void 0:r,v=!!_&&e,m=(0,s.useCallback)(()=>(b(!0),!1),[]),x=(0,s.useCallback)(()=>{b(!1)},[]),y=(0,s.useCallback)(()=>{p({url:void 0,linkTarget:void 0,rel:void 0}),b(!1)},[p]),L=(w||v)&&e&&o.__experimentalLinkControl&&(0,i.jsx)(t.Popover,{focusOnMount:!1,position:"bottom center",onClose:x,anchorRef:d?.current,children:(0,i.jsx)(o.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:_,opensInNewTab:c},onChange:({url:e="",opensInNewTab:n})=>{p({url:e}),c!==n&&k(n)}})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.BlockControls,{group:"block",children:[!v&&(0,i.jsx)(t.ToolbarButton,{name:"link",icon:l,title:(0,n.__)("Link","group-link"),shortcut:u.displayShortcut.primary("k"),onClick:m}),v&&(0,i.jsx)(t.ToolbarButton,{name:"link",icon:a,title:(0,n.__)("Unlink","group-link"),shortcut:u.displayShortcut.primaryShift("k"),onClick:y,isActive:!0})]}),e&&(0,i.jsx)(t.KeyboardShortcuts,{bindGlobal:!0,shortcuts:{[u.rawShortcut.primary("k")]:m,[u.rawShortcut.primaryShift("k")]:y}}),L]})}(0,e.registerBlockType)(c.name,{...c,icon:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,i.jsx)("path",{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),description:(0,n.__)("Combine blocks into a group wrapped with a hyperlink or div element.","group-link"),keywords:[(0,n.__)("container","group-link"),(0,n.__)("wrapper","group-link"),(0,n.__)("anchor","group-link"),(0,n.__)("hyperlink","group-link"),(0,n.__)("link","group-link")],example:{attributes:{},innerBlocks:[{name:"core/paragraph",attributes:{content:(0,n.__)("One.","group-link")}},{name:"core/paragraph",attributes:{content:(0,n.__)("Two.","group-link")}},{name:"core/paragraph",attributes:{content:(0,n.__)("Three.","group-link")}}]},transforms:{from:[{type:"block",isMultiBlock:!0,blocks:["*"],__experimentalConvert(n){if(1===n.length&&n[0].name===c.name)return;const o=n.map(n=>(0,e.createBlock)(n.name,n.attributes,n.innerBlocks));return(0,e.createBlock)(c.name,{},o)}}]},edit:function({attributes:e,setAttributes:r,isSelected:l,clientId:a,context:u}){const{postType:c,postId:d,queryId:g}=u,{url:h,linkTarget:w,ariaLabel:b,rel:_,title:v,queryLoopLink:m,blockId:x}=e,[y]=(0,p.useEntityProp)("postType",c,"link",d),L=(0,s.useRef)(),T=(0,o.useBlockProps)({ref:L}),j=(0,o.useInnerBlocksProps)(T,{renderAppender:!1}),C=(0,s.useCallback)(e=>{const n=e?"_blank":void 0;let o=_;n&&!_?o="noreferrer noopener":n||"noreferrer noopener"!==_||(o=void 0),r({linkTarget:n,rel:o})},[_,r]),f="_blank"===w;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k,{url:h,setAttributes:r,isSelected:l,opensInNewTab:f,onToggleOpenInNewTab:C,anchorRef:L,queryLoopLink:m,onToggleQueryLoopLink:e=>r({queryLoopLink:e})}),(0,i.jsx)(o.InspectorControls,{children:(0,i.jsx)(t.PanelBody,{title:(0,n.__)("Link settings","group-link"),children:(0,i.jsx)(t.ToggleControl,{label:(0,n.__)("Use link from Query Loop Block","group-link"),help:(0,n.__)("Link to the current post when using inside a Query Loop Block.","group-link"),checked:m,onChange:e=>r({queryLoopLink:e})})})}),(0,i.jsxs)(o.InspectorAdvancedControls,{children:[(0,i.jsx)(t.TextControl,{label:(0,n.__)("Link rel","group-link"),value:_||"",onChange:e=>r({rel:e})}),(0,i.jsx)(t.TextControl,{label:(0,n.__)("Aria-Label","group-link"),value:b||"",onChange:e=>r({ariaLabel:e})}),(0,i.jsx)(t.TextControl,{label:(0,n.__)("Link title","group-link"),value:v||"",onChange:e=>r({title:e})}),(0,i.jsx)(t.TextControl,{label:(0,n.__)("HTML Anchor","group-link"),help:(0,n.__)("Enter a word or two — without spaces — to make a unique web address.","group-link"),value:x||"",onChange:e=>r({blockId:e}),placeholder:(0,n.__)("e.g., my-custom-id","group-link")})]}),(0,i.jsx)("div",{...j})]})},save:function({attributes:e,className:n}){const{url:t,linkTarget:r,rel:l,title:a,queryLoopLink:s,blockId:p,ariaLabel:u}=e,c=o.useBlockProps.save({className:n,id:p||void 0}),k=!!t||s,d=k?"a":"div",g=k?{href:s?void 0:t,target:r||void 0,rel:l||void 0,title:a||void 0,"aria-label":u||void 0}:{};return(0,i.jsx)(d,{...c,...g,children:(0,i.jsx)(o.InnerBlocks.Content,{})})}})})();